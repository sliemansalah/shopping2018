<!-- begin:: Page -->
<div class="m-grid m-grid--hor m-grid--root m-page">
  <!-- BEGIN: Header -->
  <app-header></app-header>
  <!-- END: Header -->
  <!-- begin::Body -->
  <div class="m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop m-body">
    <!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Start Side Mneu ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ -->
    <app-side-nav></app-side-nav>
    <!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ End Side Mneu ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ -->
    <!-- ########### START PAGE CONTENT ########### -->
    <div class="m-grid__item m-grid__item--fluid m-wrapper">
      <!-- BEGIN: Subheader -->
      <div class="m-subheader ">
        <div class="d-flex align-items-center">
          <div class="mr-auto"><h3 class="m-subheader__title ">المصادر</h3></div>
        </div>
      </div>
      <!-- END: Subheader -->
      <div class="m-content">
        <div class="row">
          <div class="col-xl-12 col-lg-12">
            <div class="m-section m-portlet m-portlet--full-height get-float-right">
              <div class="m-section__content col-lg-12">
                <!-- begin::Portlet -->
                <div>
                  <!-- Start Resources Options Tabs -->
                  <div class="row">
                    <div class="col-xl-12 col-lg-12">
                      <!-- Begin::Portlet -->
                      <div class="m-portlet">
                        <!-- Start Resource Body -->
                        <div class="m-portlet__body">
                          <div class="m-card-profile">
                            <div class="m-card-profile__pic">
                              <div class="m-card-profile__pic-wrapper"><img src="{{resourceImg}}" alt="" /></div>
                            </div>
                            <div class="m-card-profile__details">
                              <span class="m-card-profile__name">{{ resource.name }}</span>
                              <!-- <a href="" class="m-card-profile__email m-link"> mark.andre@gmail.com </a> -->
                            </div>
                          </div>
                          <ul class="m-nav m-nav--hover-bg m-portlet-fit--sides">
                            <li class="m-nav__separator m-nav__separator--fit"></li>
                            <li class="m-nav__section m--hide"><span class="m-nav__section-text"> Section </span></li>

                            <li class="m-nav__item">
                              <div class="m-nav__link">
                                <i class="m-nav__link-icon la la-user"></i> <span class="m-nav__link-text"> إسم المصدر : {{ resource.name }} </span>
                              </div>
                            </li>
                            <li class="m-nav__item">
                              <div class="m-nav__link">
                                <i class="m-nav__link-icon la la-compass"></i> <span class="m-nav__link-text"> الموقع : {{ resource.location }} </span>
                              </div>
                            </li>
                            <li class="m-nav__item">
                              <div class="m-nav__link">
                                <i class="m-nav__link-icon la la-map-marker"></i> <span class="m-nav__link-text"> العنوان : {{ resource.address }} </span>
                              </div>
                            </li>
                            <li class="m-nav__item">
                              <div class="m-nav__link">
                                <i class="m-nav__link-icon la la-mobile"></i> <span class="m-nav__link-text"> رقم الموبايل : {{ resource.phone }} </span>
                              </div>
                            </li>
                            <li class="m-nav__item">
                              <div class="m-nav__link"><i class="m-nav__link-icon la la-globe"></i> <span class="m-nav__link-text"> الدولة : مصدر </span></div>
                            </li>
                            <li class="m-nav__item">
                              <div class="m-nav__link"><i class="m-nav__link-icon la la-map-o"></i> <span class="m-nav__link-text"> المدينة : مصدر </span></div>
                            </li>
                            <li class="m-nav__item" *ngIf="resource.website">
                              <div class="m-nav__link">
                                <i class="m-nav__link-icon la la-link"></i> <span class="m-nav__link-text"> الموقع الإلكتروني : {{ resource.website }} </span>
                              </div>
                            </li>
                            <li class="m-nav__item">
                              <div class="m-nav__link"><i class="m-nav__link-icon la la-cogs"></i> <span class="m-nav__link-text"> النوع : مصدر </span></div>
                            </li>
                            <li class="m-nav__item">
                              <div class="m-nav__link"><i class="m-nav__link-icon la la-cubes"></i> <span class="m-nav__link-text">الخدمات</span></div>
                              <div id="services-list">
                                <span *ngFor="let service of resource.services">- {{ service.name }}</span>
                              </div>
                            </li>
                            <li class="m-nav__item">
                              <div class="m-nav__link">
                                <i class="m-nav__link-icon la la-gear"></i>
                                <span class="m-nav__link-text"> حالة التفعيل : <span *ngIf="resource.active === 0">غير مفعل</span><span *ngIf="resource.active === 1"> مفعل</span> </span>
                              </div>
                            </li>
                          </ul>
                          <div class="m-portlet__body-separator"></div>
                        </div>
                        <!-- End Resource Body -->
                        <!-- Start Resource Employees -->
                        <div class="m-portlet__head">
                          <div class="m-portlet__head-caption">
                            <div class="m-portlet__head-title"><h3 class="m-portlet__head-text">قائمة المسؤولين</h3></div>
                          </div>
                          <div class="m-portlet__head-tools">
                            <ul class="m-portlet__nav">
                              <li class="m-portlet__nav-item m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push">
                                <button (click)="startRegister()" type="button" class="btn m-btn--square  btn-success">
                                  <span
                                    style="
                                  font-size: 16px;
                              "
                                    >إضافة مسؤول</span
                                  >
                                  <i
                                    style="
                                  color: #fff !important;
                                  margin-right: 5px;
                                  font-size: 14px;
                              "
                                    class="la la-plus m--font-brand"
                                  ></i>
                                </button>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <!-- End Resource Employees -->
                        <div class="m-portlet__body">
                          <div class="m-scrollable mCustomScrollbar _mCS_5 mCS-autoHide _mCS_2">
                            <!-- Start Resources Table -->
                            <!-- begin: Datatable -->
                            <!-- <div *ngIf="!anyTechnicalExist">لا توجد بيانات للعرض</div> -->
                            <!-- *ngIf="anyTechnicalExist" -->
                            <div class="m-datatable m-datatable--default m-datatable--brand m-datatable--loaded" id="all-search-table">
                              <!-- *ngIf=" emptyArray" -->
                              <table class="m-datatable__table search-table" id="html_table" width="100%">
                                <thead class="m-datatable__head table-head">
                                  <tr class="m-datatable__row">
                                    <th class="m-datatable__cell m-datatable__cell--sort"><span>المسلسل</span></th>
                                    <th class="m-datatable__cell m-datatable__cell--sort"><span>إسم المسؤول</span></th>
                                    <th class="m-datatable__cell m-datatable__cell--sort"><span>رقم الهاتف</span></th>
                                    <th class="m-datatable__cell m-datatable__cell--sort"><span class="email-td">البريد الإلكتروني</span></th>
                                    <th class="m-datatable__cell m-datatable__cell--sort"><span>الوظيفة</span></th>
                                    <th class="m-datatable__cell m-datatable__cell--sort"><span>تعديل المسؤول</span></th>
                                    <th class="m-datatable__cell m-datatable__cell--sort"><span>حذف المسؤول</span></th>
                                  </tr>
                                </thead>
                                <tbody class="m-datatable__body">
                                  <!-- *ngFor="let resource of resources" -->
                                  <tr class="m-datatable__row" *ngFor="let employee of employees">
                                    <td class="m-datatable__cell">
                                      <span>{{ employee.id }}</span>
                                    </td>
                                    <td class="m-datatable__cell">
                                      <span
                                        ><a [routerLink]="['/resources/' + resource.id]">{{ employee.name }}</a></span
                                      >
                                    </td>
                                    <td class="m-datatable__cell">
                                      <span>{{ employee.mobile }}</span>
                                    </td>
                                    <td class="m-datatable__cell">
                                      <span class="email-td">{{ employee.email }}</span>
                                    </td>
                                    <td class="m-datatable__cell">
                                      <span>{{ employee.job }}</span>
                                    </td>
                                    <td class="m-datatable__cell">
                                      <!---->
                                      <span><button (click)="updateEmployee(employee.id)" type="button" class="btn btn-success update-button">تعديل المسؤول</button></span>
                                    </td>
                                    <td class="m-datatable__cell">
                                      <!---->
                                      <span><button (click)="deleteEmployee(employee.id)" type="button" class="btn btn-danger">حذف المسؤول</button></span>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                            <!-- end: Datatable -->
                            <!-- End Resources Table -->
                          </div>
                        </div>
                      </div>
                      <!-- End::Portlet -->
                    </div>
                  </div>
                  <!-- End Resources Options Tabs -->
                </div>
                <!-- end::Portlet -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Register Employee Form -->
      <div id="update-form" *ngIf="registerMode || editMode">
        <div class="popup-form">
          <!---->
          <app-resource-employee-form
            [resourceId]="resourceId"
            [registerMode]="registerMode"
            (registerModeFinish)="registerModeFinish($event)"
            (registerSuccess)="registerSuccess($event)"
            [editMode]="editMode"
            [updatedEmployeeData]="updatedEmployeeData"
            (editModeFinish)="editModeFinish($event)"
            (editSuccess)="editSuccess($event)"
          ></app-resource-employee-form>
        </div>
      </div>
      <!-- Register Employee Form -->
      <!-- begin::Footer -->
      <app-footer></app-footer>
      <!-- end::Footer -->
    </div>
    <!-- ########### END PAGE CONTENT ########### -->
  </div>
  <!-- end:: Body -->
</div>
<!-- end:: Page -->
